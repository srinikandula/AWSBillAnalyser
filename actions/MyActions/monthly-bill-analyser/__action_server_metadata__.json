{"metadata": {"name": "MonthlyBillAnalyser", "description": "Action package description", "secrets": {}, "action_package_version": "0.0.1", "metadata_version": 4}, "openapi.json": {"openapi": "3.1.0", "info": {"title": "Sema4.ai Action Server", "version": "2.10.0"}, "servers": [{"url": "http://localhost:8080"}], "paths": {"/api/actions/monthlybillanalyser/identify-cost-optimization-opportunities/run": {"post": {"summary": "Identify Cost Optimization Opportunities", "description": "Identifies cost optimization opportunities based on AWS usage patterns.", "operationId": "identify_cost_optimization_opportunities", "requestBody": {"content": {"application/json": {"schema": {"properties": {"cost_analysis_request": {"properties": {"billing_period": {"properties": {"start_date": {"type": "string", "format": "date-time", "title": "Start Date", "description": "Start date of the billing period"}, "end_date": {"type": "string", "format": "date-time", "title": "End Date", "description": "End date of the billing period"}}, "type": "object", "required": ["start_date", "end_date"], "title": "BillingPeriod"}, "services_filter": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Services Filter", "description": "Filter by specific services"}, "regions_filter": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Regions Filter", "description": "Filter by specific regions"}, "cost_threshold": {"anyOf": [{"type": "number"}, {"type": "string"}, {"type": "null"}], "title": "Cost Threshold", "description": "Only show costs above this threshold"}}, "type": "object", "required": ["billing_period"], "title": "Cost Analysis Request", "description": "Request containing billing period and filters."}}, "type": "object", "required": ["cost_analysis_request"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"items": {"properties": {"service_name": {"type": "string", "title": "Service Name", "description": "AWS service with optimization opportunity"}, "resource_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Resource Id", "description": "Resource identifier"}, "opportunity_type": {"type": "string", "title": "Opportunity Type", "description": "Type of optimization (rightsizing, unused, reserved_instance)"}, "current_cost": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Current Cost", "description": "Current monthly cost"}, "potential_savings": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Potential Savings", "description": "Potential monthly savings"}, "recommendation": {"type": "string", "title": "Recommendation", "description": "Specific recommendation"}, "effort_level": {"type": "string", "title": "Effort Level", "description": "Implementation effort (low, medium, high)"}}, "type": "object", "required": ["service_name", "opportunity_type", "current_cost", "potential_savings", "recommendation", "effort_level"], "title": "OptimizationOpportunity"}, "type": "array"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Identify Cost Optimization Opportunities", "description": "A list of optimization opportunities with potential savings."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": false, "x-operation-kind": "action"}}, "/api/actions/monthlybillanalyser/generate-cost-forecast/run": {"post": {"summary": "Generate Cost Forecast", "description": "Generates a cost forecast based on historical trends.", "operationId": "generate_cost_forecast", "requestBody": {"content": {"application/json": {"schema": {"properties": {"months_ahead": {"type": "integer", "title": "Months Ahead", "description": "Number of months to forecast (1-12).", "default": 3}}, "type": "object"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Generate Cost Forecast", "description": "Cost forecast with projected monthly costs."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": false, "x-operation-kind": "action"}}, "/api/actions/monthlybillanalyser/analyze-cost-trends/run": {"post": {"summary": "Analyze Cost Trends", "description": "Analyzes AWS cost trends for a given billing period.", "operationId": "analyze_cost_trends", "requestBody": {"content": {"application/json": {"schema": {"properties": {"cost_analysis_request": {"properties": {"billing_period": {"properties": {"start_date": {"type": "string", "format": "date-time", "title": "Start Date", "description": "Start date of the billing period"}, "end_date": {"type": "string", "format": "date-time", "title": "End Date", "description": "End date of the billing period"}}, "type": "object", "required": ["start_date", "end_date"], "title": "BillingPeriod"}, "services_filter": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Services Filter", "description": "Filter by specific services"}, "regions_filter": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Regions Filter", "description": "Filter by specific regions"}, "cost_threshold": {"anyOf": [{"type": "number"}, {"type": "string"}, {"type": "null"}], "title": "Cost Threshold", "description": "Only show costs above this threshold"}}, "type": "object", "required": ["billing_period"], "title": "Cost Analysis Request", "description": "Request containing billing period and filters."}}, "type": "object", "required": ["cost_analysis_request"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"properties": {"total_cost": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Total Cost", "description": "Total cost for the period"}, "previous_period_cost": {"anyOf": [{"type": "number"}, {"type": "string"}, {"type": "null"}], "title": "Previous Period Cost", "description": "Cost for previous period"}, "cost_change_percent": {"anyOf": [{"type": "number"}, {"type": "string"}, {"type": "null"}], "title": "Cost Change Percent", "description": "Percentage change from previous period"}, "top_services": {"items": {"properties": {"service_name": {"type": "string", "title": "Service Name", "description": "Name of the AWS service"}, "region": {"type": "string", "title": "Region", "description": "AWS region"}, "cost": {"anyOf": [{"type": "number"}, {"type": "string"}], "title": "Cost", "description": "Cost for this service"}, "usage_quantity": {"anyOf": [{"type": "number"}, {"type": "string"}, {"type": "null"}], "title": "Usage Quantity", "description": "Usage quantity"}, "usage_unit": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Usage Unit", "description": "Unit of usage measurement"}}, "type": "object", "required": ["service_name", "region", "cost"], "title": "AWSService"}, "type": "array", "title": "Top Services", "description": "Top services by cost"}, "cost_by_region": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Cost By Region", "description": "Cost breakdown by region"}}, "type": "object", "required": ["total_cost", "top_services", "cost_by_region"], "title": "CostSummary"}, {"type": "null"}], "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Analyze Cost Trends", "description": "A comprehensive cost analysis summary."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": false, "x-operation-kind": "action"}}, "/api/actions/monthlybillanalyser/get-monthly-cost-breakdown/run": {"post": {"summary": "Get Monthly Cost Breakdown", "description": "Gets a detailed cost breakdown for a specific month.", "operationId": "get_monthly_cost_breakdown", "requestBody": {"content": {"application/json": {"schema": {"properties": {"year": {"type": "integer", "title": "Year", "description": "Year for the cost analysis."}, "month": {"type": "integer", "title": "Month", "description": "Month for the cost analysis (1-12)."}}, "type": "object", "required": ["year", "month"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Result", "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Get Monthly Cost Breakdown", "description": "Monthly cost breakdown by service and region."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": false, "x-operation-kind": "action"}}}, "components": {"schemas": {"HTTPValidationError": {"properties": {"errors": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Errors"}}, "type": "object", "title": "HTTPValidationError"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}}}